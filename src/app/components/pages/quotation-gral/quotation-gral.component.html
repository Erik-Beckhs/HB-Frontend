<div class="p-3">

    <div class="cot-list">
      <mat-card-title class="d-flex align-items-center text-dark">
        <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
            <mat-icon>shop</mat-icon>
          </button>
          <span style="font-size: 17px;">Lista de Cotizaciones</span>
      </mat-card-title>
    
    <hr>
  
  <!--<app-spinner *ngIf="loading"></app-spinner>

  <div *ngIf="!loading">
    
  <div class="bg-gray d-flex justify-content-center align-items-center none fw-bold" *ngIf="listQuot.length == 0">
    No se encontró información
  </div>

  <div class="px-2" *ngIf="listQuot.length > 0">-->

    <mat-form-field appearance="standard">
      <mat-label>Busqueda</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Escriba una palabra para su busqueda" #input>
    </mat-form-field>
    
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
    
        <ng-container matColumnDef="#">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }} </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Cotización </th>
          <td mat-cell  *matCellDef="let row"><a [routerLink]="[row.id]">{{row.name}}</a> </td>
         </ng-container>
    
        <ng-container matColumnDef="applicant">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Solicitante </th>
          <td mat-cell *matCellDef="let row"> {{row.applicant}} </td>
        </ng-container>
    

        <ng-container matColumnDef="division">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Division </th>
          <td mat-cell *matCellDef="let row"> {{row.division | division}} </td>
        </ng-container>

        <ng-container matColumnDef="money">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Moneda </th>
          <td mat-cell *matCellDef="let row"> {{row.money | moneySupplier}} </td>
        </ng-container>

        <ng-container matColumnDef="typeReq">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo de Requerimiento </th>
            <td mat-cell *matCellDef="let row"> {{row.typeReq | requestType}} </td>
          </ng-container>  

          <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de Inicio </th>
            <td mat-cell *matCellDef="let row"> {{row.start | date:'medium'}} </td>
          </ng-container>  

          <ng-container matColumnDef="end">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Fin </th>
            <td mat-cell *matCellDef="let row"> {{row.end | date:'short'}} </td>
          </ng-container>  

          <ng-container matColumnDef="estado">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado </th>
            <td mat-cell *matCellDef="let row" class="text-center"><span class="badge fs-13" [ngClass]="styleState(row.estado)">{{row.estado | titlecase}} </span> </td>
          </ng-container>  

          <ng-container matColumnDef="aceptados">
            <th mat-header-cell *matHeaderCellDef mat-sort-header># Aceptados </th>
            <td mat-cell *matCellDef="let row" class="text-center"><span class="badge badge-success fs-15"> {{row.aceptados}} </span></td>
          </ng-container>  

          <ng-container matColumnDef="rechazados">
            <th mat-header-cell *matHeaderCellDef mat-sort-header># Rechazados </th>
            <td mat-cell *matCellDef="let row" class="text-center"><span (click)="showRejected(row)" class="badge badge-danger fs-15 pointer">{{row.rechazados}}</span>  </td>
          </ng-container>  

          <ng-container matColumnDef="en_curso">
            <th mat-header-cell *matHeaderCellDef mat-sort-header># En Curso </th>
            <td mat-cell *matCellDef="let row" class="text-center"><span class="badge badge-info fs-15">{{row.en_curso}}</span>  </td>
          </ng-container>  

          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header># Total </th>
            <td mat-cell *matCellDef="let row" class="text-center"><span class="badge badge-primary fs-15"> {{row.total}}  </span> </td>
          </ng-container>  
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
        </tr>
      </table>
    
      <mat-paginator
      fxFlex="100"
      #paginatorRef
      [length]="5"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 20]">
  </mat-paginator>
    </div>
    
   <!--</div>
</div>-->

    </div>
  </div>
  
